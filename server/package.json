{
  "name": "n2-server",
  "version": "1.0.0",
  "description": "",
  "main": "app.js",
  "scripts": {
    "start": "node app.js",
    "setup": "pm2 deploy ecosystem.json production setup",
    "deploy": "pm2 deploy ecosystem.json production",
    "docker-build": "docker build -t cheney/n2 ./",
    "docker": "docker run -d -p 2000:2000 --name n2 cheney/n2",
    "docker-kill": "docker kill $(docker ps -a -q)",
    "docker-rmc": "docker rm $(docker ps -a -q)",
    "docker-rmn": "docker rmi $(docker images -q -f dangling=true)",
    "compose-up": "docker-compose -f docker-compose.yml up -d --build --force-recreate && docker rmi $(docker images -q -f dangling=true)",
    "compose-server": "docker-compose -f docker-compose.yml up -d --build server && docker rmi $(docker images -q -f dangling=true)",
    "compose-down": "docker-compose -f docker-compose.yml down",
    "mongo-rs": "docker exec -it mongo0 mongo --eval 'config={\"_id\":\"rs\",\"members\":[{\"_id\":0,\"host\":\"mongo0:27017\",\"priority\":1},{\"_id\":1,\"host\":\"mongo1:27017\",\"priority\":0.1},{\"_id\":2,\"host\":\"mongo2:27017\",\"priority\":0.1}]};rs.initiate(config)'",
    "mongo-in": "docker exec -it mongo0 mongo",
    "mongo-dump":"docker exec -it mongo0 mongodump --host localhost:27017 -d n2 -o /dump && tar -zcvf n2.tar.gz /dump/n2",
    "logs": "docker logs server -f",
    "tar": "rm -f _db.tar.gz && tar -zcvf _db.tar.gz _db"
  },
  "author": "cheneyxu",
  "license": "ISC",
  "dependencies": {
    "@koa/cors": "^3.0.0",
    "axios": "^0.19.0",
    "bcryptjs": "^2.4.3",
    "captchapng": "0.0.1",
    "config": "^3.2.2",
    "jsonwebtoken": "^8.5.1",
    "koa": "^2.7.0",
    "koa-body": "^4.1.1",
    "koa-mount": "^4.0.0",
    "koa-static": "^5.0.0",
    "koa-xauth": "^1.3.0",
    "koa-xcontroller": "^1.2.0",
    "koa-xerror": "^1.2.0",
    "koa-xlog": "^1.2.0",
    "koa-xnosql": "^2.9.9",
    "lodash": "^4.17.15",
    "moment": "^2.24.0",
    "node-cron": "^2.0.3",
    "number-precision": "^1.3.1"
  }
}